import{u as r}from"./fetch.accb1318.js";import{bC as m,j as d,i as l}from"./entry.2e60e461.js";import{C as i}from"./Generics.d9123dbf.js";import{g as e}from"./index.ccfc92be.js";const g=m("Student",()=>{const o=d([]),p=d(-1),c=l(()=>o.value.filter(t=>!t.is_approved).length),a=async()=>{const{data:t,error:s}=await r("/api/students",{method:"GET"},"$0HGD5UUzIS");e(s)||e(o).splice(0),t.value&&t.value.students&&e(o).push(...t.value.students)};return{sync:a,approve:async t=>{var n;const{data:s,error:S}=await r("/api/students/approve",{method:"POST",body:{id:t}},"$j9B5RTRSjD");if(((n=e(s))==null?void 0:n.status)===i.SUCCESS){const u=e(o).find(f=>f.id===t);u&&(u.is_approved=1)}return e(s)},unenroll:async t=>{var n;const{data:s,error:S}=await r("/api/students/unenroll",{method:"POST",body:{id:t}},"$2L9mp8IfeY");return((n=e(s))==null?void 0:n.status)===i.SUCCESS&&a(),e(s)},students:o,unregisteredcount:c,studentToRemove:p}});export{g as u};
