import N from"./Icon.4abee38d.js";import{_ as I}from"./Avatar.1bb1d94f.js";import O from"./Button.ca57eb16.js";import{j as P,i as w,_ as D,bI as V,bJ as M,f as E,b8 as J,bK as B,n as K,bs as R,aK as L,o as a,k as g,w as G,a as b,aw as v,q as d,h as p,aS as S,d as T,t as U,c as y,F as z,v as j,bA as A,az as H,A as Q}from"./entry.2e60e461.js";import{t as F}from"./tw-merge.608f89b9.js";import{u as W}from"./selectMenu.219fca56.js";import{h as X}from"./index.b36c4f78.js";import"./Icon.d59a0deb.js";import"./index.b8fe2cb5.js";import"./Link.fb4a2cb7.js";import"./nuxt-link.37c5b906.js";import"./useButtonGroup.cc33183f.js";import"./button.b8dbcbb7.js";import"./index.ccfc92be.js";const Y={wrapper:"w-full pointer-events-auto",container:"relative overflow-hidden",title:"text-sm font-medium text-gray-900 dark:text-white",description:"mt-1 text-sm leading-4 text-gray-500 dark:text-gray-400",actions:"flex items-center gap-2 mt-3 flex-shrink-0",background:"bg-white dark:bg-gray-900",shadow:"shadow-lg",rounded:"rounded-lg",padding:"p-4",gap:"gap-3",ring:"ring-1 ring-gray-200 dark:ring-gray-800",icon:{base:"flex-shrink-0 w-5 h-5",color:"text-{color}-500 dark:text-{color}-400"},avatar:{base:"flex-shrink-0 self-center",size:"md"},progress:{base:"absolute bottom-0 end-0 start-0 h-1",background:"bg-{color}-500 dark:bg-{color}-400"},transition:{enterActiveClass:"transform ease-out duration-300 transition",enterFromClass:"translate-y-2 opacity-0 sm:translate-y-0 sm:translate-x-2",enterToClass:"translate-y-0 opacity-100 sm:translate-x-0",leaveActiveClass:"transition ease-in duration-100",leaveFromClass:"opacity-100",leaveToClass:"opacity-0"},default:{color:"primary",icon:null,timeout:5e3,closeButton:{icon:"i-heroicons-x-mark-20-solid",color:"gray",variant:"link",padded:!1},actionButton:{size:"xs",color:"white"}}};function Z(e,r,n){let l=null;const{pause:t,resume:k,timestamp:m}=X({...n||{},controls:!0}),i=P(null),u=w(()=>i.value?r-(m.value-i.value):0);function o(...q){l=setTimeout(()=>{l=null,i.value=null,e(...q)},u.value)}function c(){l&&(clearTimeout(l),l=null)}function f(){i.value=Date.now(),o()}function h(){c(),t()}function $(){c(),t()}function s(){o(),k(),i.value=(i.value||0)+(Date.now()-m.value)}return f(),{start:f,stop:h,pause:$,resume:s,remaining:u}}const C=V(M.ui.strategy,M.ui.notification,Y),_=E({components:{UIcon:N,UAvatar:I,UButton:O},inheritAttrs:!1,props:{id:{type:[String,Number],required:!0},title:{type:String,required:!0},description:{type:String,default:null},icon:{type:String,default:()=>C.default.icon},avatar:{type:Object,default:null},closeButton:{type:Object,default:()=>C.default.closeButton},timeout:{type:Number,default:()=>C.default.timeout},actions:{type:Array,default:()=>[]},callback:{type:Function,default:null},color:{type:String,default:()=>C.default.color,validator(e){return["gray",...M.ui.colors].includes(e)}},class:{type:[String,Object,Array],default:void 0},ui:{type:Object,default:void 0}},emits:["close"],setup(e,{emit:r}){const{ui:n,attrs:l}=W("notification",J(e,"ui"),C);let t=null;const k=P(e.timeout),m=w(()=>F(B(n.value.wrapper,n.value.background,n.value.rounded,n.value.shadow),e.class)),i=w(()=>{var s;return B(n.value.progress.base,(s=n.value.progress.background)==null?void 0:s.replaceAll("{color}",e.color))}),u=w(()=>({width:`${k.value/e.timeout*100||0}%`})),o=w(()=>{var s;return B(n.value.icon.base,(s=n.value.icon.color)==null?void 0:s.replaceAll("{color}",e.color))});function c(){t&&t.pause()}function f(){t&&t.resume()}function h(){t&&t.stop(),e.callback&&e.callback(),r("close")}function $(s){t&&t.stop(),s.click&&s.click(),r("close")}return K(()=>{e.timeout&&(t=Z(()=>{h()},e.timeout),R(()=>{k.value=t.remaining.value}))}),L(()=>{t&&t.stop()}),{ui:n,attrs:l,wrapperClass:m,progressClass:i,progressStyle:u,iconClass:o,onMouseover:c,onMouseleave:f,onClose:h,onAction:$,twMerge:F}}}),x={class:"w-0 flex-1"};function ee(e,r,n,l,t,k){const m=N,i=I,u=O;return a(),g(Q,v({appear:""},e.ui.transition),{default:G(()=>[b("div",v({class:e.wrapperClass,role:"status"},e.attrs,{onMouseover:r[0]||(r[0]=(...o)=>e.onMouseover&&e.onMouseover(...o)),onMouseleave:r[1]||(r[1]=(...o)=>e.onMouseleave&&e.onMouseleave(...o))}),[b("div",{class:d([e.ui.container,e.ui.rounded,e.ui.ring])},[b("div",{class:d(["flex",[e.ui.padding,e.ui.gap,{"items-start":e.description||e.$slots.description,"items-center":!e.description&&!e.$slots.description}]])},[e.icon?(a(),g(m,{key:0,name:e.icon,class:d(e.iconClass)},null,8,["name","class"])):p("",!0),e.avatar?(a(),g(i,v({key:1},{size:e.ui.avatar.size,...e.avatar},{class:e.ui.avatar.base}),null,16,["class"])):p("",!0),b("div",x,[b("p",{class:d(e.ui.title)},[S(e.$slots,"title",{title:e.title},()=>[T(U(e.title),1)])],2),e.description||e.$slots.description?(a(),y("p",{key:0,class:d(e.ui.description)},[S(e.$slots,"description",{description:e.description},()=>[T(U(e.description),1)])],2)):p("",!0),(e.description||e.$slots.description)&&e.actions.length?(a(),y("div",{key:1,class:d(e.ui.actions)},[(a(!0),y(z,null,j(e.actions,(o,c)=>(a(),g(u,v({key:c},{...e.ui.default.actionButton,...o},{onClick:A(f=>e.onAction(o),["stop"])}),null,16,["onClick"]))),128))],2)):p("",!0)]),e.closeButton||!e.description&&!e.$slots.description&&e.actions.length?(a(),y("div",{key:2,class:d(e.twMerge(e.ui.actions,"mt-0"))},[!e.description&&!e.$slots.description&&e.actions.length?(a(!0),y(z,{key:0},j(e.actions,(o,c)=>(a(),g(u,v({key:c},{...e.ui.default.actionButton,...o},{onClick:A(f=>e.onAction(o),["stop"])}),null,16,["onClick"]))),128)):p("",!0),e.closeButton?(a(),g(u,v({key:1,"aria-label":"Close"},{...e.ui.default.closeButton,...e.closeButton},{onClick:A(e.onClose,["stop"])}),null,16,["onClick"])):p("",!0)],2)):p("",!0)],2),e.timeout?(a(),y("div",{key:0,class:d(e.progressClass),style:H(e.progressStyle)},null,6)):p("",!0)],2)],16)]),_:3},16)}const ge=D(_,[["render",ee]]);export{ge as default};
