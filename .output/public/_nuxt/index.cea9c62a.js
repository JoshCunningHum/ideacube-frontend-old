import{u as I,_ as N,C as R}from"./Enroll.027f8d65.js";import{_ as S}from"./DigitedInput.14a10c5f.js";import j from"./Button.ca57eb16.js";import E from"./Icon.4abee38d.js";import{_ as U,o as r,k as p,f as $,bE as D,j as i,m as T,c as F,a as _,b as f,w as d,g as t,l as L,d as m,t as q,h as x}from"./entry.2e60e461.js";import{s as e,g as z}from"./index.ccfc92be.js";import"./fetch.accb1318.js";import"./Link.fb4a2cb7.js";import"./nuxt-link.37c5b906.js";import"./tw-merge.608f89b9.js";import"./selectMenu.219fca56.js";import"./useButtonGroup.cc33183f.js";import"./button.b8dbcbb7.js";import"./Icon.d59a0deb.js";import"./index.b8fe2cb5.js";const A={};function G(C,g){const u=E;return r(),p(u,{class:"animate-spin",name:"i-mdi-autorenew"})}const H=U(A,[["render",G]]),J={class:"flex h-full justify-center items-center"},K={class:"flex flex-col items-center gap-10"},M={class:"flex justify-center flex-col items-center gap-3"},O={class:"h-16 max-h-16"},ie=$({__name:"index",setup(C){const g=I(),{classFromCode:u}=g,V=D(),o=i(""),s=i(!1),c=i("enter six-digit class code"),l=i(!0),y=async n=>{e(s,!0),e(c,"processing please wait...");const a=await u(n);e(s,!1),a&&(a.status===R.Valid?V.push(`/enroll/${z(o)}`):(e(l,!1),e(c,"Code is not valid.")))};T(o,n=>{n.length<6||y(n)});const v=()=>{e(o,""),e(c,"enter six-digit class code"),e(l,!0),e(s,!1)};return(n,a)=>{const h=N,w=S,k=j,B=H;return r(),F("div",J,[_("div",K,[f(h,null,{default:d(()=>[m("enroll")]),_:1}),_("div",M,[f(w,{modelValue:t(o),"onUpdate:modelValue":a[0]||(a[0]=b=>L(o)?o.value=b:null),length:6,disabled:t(s)||!t(l)},null,8,["modelValue","disabled"]),_("span",null,[m(q(t(c))+" ",1),t(l)?x("",!0):(r(),p(k,{key:0,onClick:v,variant:"link",padded:!1,class:"pr-1.5",color:"amber"},{default:d(()=>[m("Retry")]),_:1})),t(s)?x("",!0):(r(),p(k,{key:1,to:"/login",variant:"link",padded:!1},{default:d(()=>[m("or login")]),_:1}))])]),_("div",O,[t(s)?(r(),p(h,{key:0},{default:d(()=>[f(B)]),_:1})):x("",!0)])])])}}});export{ie as default};
