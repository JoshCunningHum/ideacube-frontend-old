import{f as V,b8 as q,i as a,bL as D,M as F,bK as p,af as d,bI as I,bJ as b}from"./entry.2e60e461.js";import _ from"./Icon.4abee38d.js";import{u as A}from"./selectMenu.219fca56.js";import{m as H}from"./meter.0da9bac4.js";import"./Icon.d59a0deb.js";import"./index.b8fe2cb5.js";const Q={wrapper:"flex flex-col gap-2 w-full",base:"flex flex-row flex-nowrap flex-shrink overflow-hidden",background:"bg-gray-200 dark:bg-gray-700",transition:"transition-all",rounded:"rounded-full",shadow:"",default:{size:"md"}},x=I(b.ui.strategy,b.ui.meter,H),T=I(b.ui.strategy,b.ui.meterGroup,Q),te=V({components:{UIcon:_},inheritAttrs:!1,slots:Object,props:{min:{type:Number,default:0},max:{type:Number,default:100},size:{type:String,default:()=>x.default.size,validator(t){return Object.keys(x.meter.bar.size).includes(t)}},indicator:{type:Boolean,default:!1},icon:{type:String,default:"i-heroicons-minus"},class:{type:[String,Object,Array],default:void 0},ui:{type:Object,default:void 0}},setup(t,{slots:m}){const{ui:u,attrs:B}=A("meterGroup",q(t,"ui"),T),{ui:o}=A("meter",void 0,x);if(!m.default)throw new Error("Meter Group has no Meter children.");const J=a(()=>t.min>t.max?t.max:t.min),P=a(()=>t.max<t.min?t.min:t.max),v=a(()=>D(m)),w=a(()=>({"rounded-none":{left:"rounded-s-none",right:"rounded-e-none"},"rounded-sm":{left:"rounded-s-sm",right:"rounded-e-sm"},rounded:{left:"rounded-s",right:"rounded-e"},"rounded-md":{left:"rounded-s-md",right:"rounded-e-md"},"rounded-lg":{left:"rounded-s-lg",right:"rounded-e-lg"},"rounded-xl":{left:"rounded-s-xl",right:"rounded-e-xl"},"rounded-2xl":{left:"rounded-s-2xl",right:"rounded-e-2xl"},"rounded-3xl":{left:"rounded-s-3xl",right:"rounded-e-3xl"},"rounded-full":{left:"rounded-s-full",right:"rounded-e-full"}})[u.value.rounded]);function U(r,l,e){if(l==e)return r<l?0:100;l>e&&(e=[l,l=e][0]);const n=(r-l)/(e-l)*100;return Math.max(0,Math.min(100,n))}const M=a(()=>v.value.map(r=>r.props.label)),g=a(()=>v.value.map(r=>U(r.props.value,t.min,t.max))),h=a(()=>Math.max(0,Math.max(g.value.reduce((r,l)=>r+l,0)))),f=a(()=>v.value.map((r,l)=>{var i,s,c,z,y,C,$,k,G,j,N,S,O;const e={};e.style={width:`${g.value[l]}%`},e.size=t.size,e.min=J.value,e.max=P.value,e.ui=((i=r.props)==null?void 0:i.ui)||{},e.ui.wrapper=((c=(s=r.props)==null?void 0:s.ui)==null?void 0:c.wrapper)||"",e.ui.wrapper+=[(y=(z=r.props)==null?void 0:z.ui)==null?void 0:y.wrapper,(($=(C=t.ui)==null?void 0:C.meter)==null?void 0:$.background)||u.value.background,u.value.transition].filter(Boolean).join(" "),e.ui.meter=((G=(k=r.props)==null?void 0:k.ui)==null?void 0:G.meter)||{},e.ui.meter.background=`bg-${r.props.color}-500 dark:bg-${r.props.color}-400`,e.ui.meter.rounded="rounded-none",e.ui.meter.bar=((S=(N=(j=r.props)==null?void 0:j.ui)==null?void 0:N.meter)==null?void 0:S.bar)||{},l===0&&(e.ui.meter.rounded=`${w.value.left} rounded-e-none`),l===v.value.length-1&&(e.ui.meter.rounded=`${w.value.right} rounded-s-none`),M.value[l]=r.props.label;const n=F(r,e);return(O=n.children)==null||delete O.label,delete n.props.indicator,delete n.props.label,n})),E=a(()=>p(u.value.base,u.value.background,u.value.rounded,u.value.shadow,o.value.meter.size[t.size])),K=a(()=>p(o.value.indicator.container)),L=a(()=>p(o.value.indicator.text,o.value.indicator.size[t.size])),R=a(()=>{const r=[void 0,d("div",{class:E.value},f.value),void 0];return t.indicator?r[0]=d("div",{class:K.value},[d("div",{class:L.value,style:{width:`${h.value}%`}},Math.round(h.value)+"%")]):m.indicator&&(r[0]=m.indicator({percent:h.value})),r[2]=d("ol",{class:"list-disc list-inside"},M.value.map((l,e)=>{var i;const n=a(()=>{var s,c;return p(o.value.label.base,o.value.label.text,o.value.color[(s=f.value[e])==null?void 0:s.props.color]??o.value.label.color.replaceAll("{color}",((c=f.value[e])==null?void 0:c.props.color)??o.value.default.color),o.value.label.size[t.size])});return d("li",{class:n.value},[d(_,{name:((i=f.value[e])==null?void 0:i.props.icon)??t.icon}),`${l} (${Math.round(g.value[e])}%)`])})),r});return()=>d("div",{class:u.value.wrapper,...B.value},R.value)}});export{te as default};
